import numpy as np

solutions = [ ]
def isSubsetSum(set, n, sum,sol):

    if (sum == 0):
        solutions.append(sol)
        return True
    if (n == 0):
        return False

    if (set[n - 1] > sum):
        return isSubsetSum(set, n - 1, sum,sol)
    return isSubsetSum(
        set, n-1, sum,sol) or isSubsetSum(
        set, n-1, sum-set[n-1],sol+[set[n-1]])

sum = 8364
x = np.array([265, 453, 311, 876, 158, 344, 65, 411, 366, 314,
200, 816, 305, 716, 892, 787, 45, 258, 967, 669,
525, 638, 351, 438, 839, 438, 732, 675, 429, 278,
175, 192, 408, 243, 733, 176, 111, 570, 332, 766,
925, 680, 305, 805, 167, 162, 442, 404, 14, 603,
279, 636, 927, 757, 780, 892, 178, 148, 11, 766,
272, 520, 317, 573, 89, 776, 389, 444, 429, 984,
296, 68, 415, 257, 205, 409, 664, 472, 888, 25,
641, 367, 791, 687, 344, 320, 936, 520, 36, 494,
719, 362, 78, 437, 841, 163, 869, 945, 918, 840])

for i in range(30):
    set = np.random.choice(x, size=20, replace=False)
    n = len(set)
    print(i,isSubsetSum(set, n, sum,[ ]))
solutions = [sorted(s) for s in solutions]
print(f'Found {len(solutions)} solutions')
for s in solutions:
   print("Sum of",s," = ",np.sum(np.array(s)))


"
Found 21 solutions
Sum of [25, 162, 163, 265, 296, 344, 367, 437, 636, 664, 675, 766, 776, 918, 925, 945]  =  8364
Sum of [11, 175, 200, 279, 344, 438, 520, 603, 641, 687, 791, 876, 888, 927, 984]  =  8364
Sum of [68, 175, 200, 296, 305, 332, 344, 641, 680, 719, 816, 892, 945, 967, 984]  =  8364
Sum of [175, 178, 265, 305, 320, 409, 472, 636, 641, 669, 766, 805, 869, 918, 936]  =  8364
Sum of [148, 162, 167, 178, 258, 314, 344, 362, 367, 389, 520, 636, 840, 876, 892, 927, 984]  =  8364
Sum of [11, 265, 408, 472, 573, 733, 766, 805, 816, 840, 869, 888, 918]  =  8364
Sum of [163, 167, 272, 314, 317, 641, 680, 687, 719, 732, 869, 892, 927, 984]  =  8364
Sum of [11, 332, 344, 404, 437, 444, 494, 732, 733, 839, 841, 892, 925, 936]  =  8364
Sum of [11, 65, 162, 175, 243, 296, 438, 444, 573, 638, 641, 669, 680, 733, 791, 869, 936]  =  8364
Sum of [78, 162, 257, 305, 320, 332, 411, 429, 438, 438, 442, 641, 716, 780, 791, 888, 936]  =  8364
Sum of [45, 296, 332, 344, 366, 389, 438, 520, 570, 641, 780, 839, 892, 945, 967]  =  8364
Sum of [45, 65, 78, 438, 444, 494, 520, 636, 687, 732, 776, 791, 839, 892, 927]  =  8364
Sum of [25, 65, 200, 243, 366, 429, 453, 472, 603, 669, 680, 719, 805, 839, 869, 927]  =  8364
Sum of [175, 305, 429, 438, 603, 638, 641, 787, 805, 839, 841, 927, 936]  =  8364
Sum of [36, 89, 167, 178, 205, 278, 305, 314, 362, 415, 444, 472, 641, 839, 840, 918, 925, 936]  =  8364
Sum of [65, 68, 332, 367, 411, 520, 520, 573, 664, 680, 733, 791, 816, 840, 984]  =  8364
Sum of [65, 258, 272, 320, 362, 429, 429, 494, 757, 776, 780, 787, 816, 892, 927]  =  8364
Sum of [111, 205, 305, 314, 442, 525, 603, 636, 766, 787, 869, 892, 925, 984]  =  8364
Sum of [205, 265, 320, 344, 351, 367, 404, 520, 638, 664, 766, 805, 839, 892, 984]  =  8364
Sum of [162, 243, 257, 258, 272, 279, 320, 429, 520, 641, 716, 766, 780, 869, 925, 927]  =  8364
Sum of [200, 272, 296, 311, 351, 641, 716, 719, 733, 766, 776, 787, 869, 927]  =  8364
"
