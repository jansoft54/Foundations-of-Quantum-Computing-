import numpy as np

np.random.seed(42)
solutions = [ ]
def isSubsetSum(set, n, sum,sol):

    if (sum == 0):
        solutions.append(sol)
        return True
    if (n == 0):
        return False

    if (set[n - 1] > sum):
        return isSubsetSum(set, n - 1, sum,sol)
    return isSubsetSum(
        set, n-1, sum,sol) or isSubsetSum(
        set, n-1, sum-set[n-1],sol+[set[n-1]])

sum = 8364
x = np.array([265, 453, 311, 876, 158, 344, 65, 411, 366, 314,
200, 816, 305, 716, 892, 787, 45, 258, 967, 669,
525, 638, 351, 438, 839, 438, 732, 675, 429, 278,
175, 192, 408, 243, 733, 176, 111, 570, 332, 766,
925, 680, 305, 805, 167, 162, 442, 404, 14, 603,
279, 636, 927, 757, 780, 892, 178, 148, 11, 766,
272, 520, 317, 573, 89, 776, 389, 444, 429, 984,
296, 68, 415, 257, 205, 409, 664, 472, 888, 25,
641, 367, 791, 687, 344, 320, 936, 520, 36, 494,
719, 362, 78, 437, 841, 163, 869, 945, 918, 840])

for i in range(30):
    set = np.random.choice(x, size=20, replace=False)
    n = len(set)
    print(i,isSubsetSum(set, n, sum,[ ]))
solutions = [sorted(s) for s in solutions]
print(f'Found {len(solutions)} solutions')
for s in solutions:
   print("Sum of",s," = ",np.sum(np.array(s)))

"""
Sum of [25, 178, 257, 258, 389, 437, 438, 520, 525, 570, 766, 766, 776, 780, 787, 892]  =  8364
Sum of [158, 178, 200, 243, 305, 314, 344, 367, 415, 437, 520, 636, 780, 816, 841, 892, 918]  =  8364
Sum of [200, 205, 311, 429, 472, 732, 733, 839, 840, 841, 892, 925, 945]  =  8364
Sum of [11, 36, 167, 192, 265, 272, 317, 320, 332, 344, 362, 408, 570, 680, 719, 732, 869, 876, 892]  =  8364
Sum of [176, 305, 366, 429, 520, 636, 638, 641, 680, 719, 766, 776, 787, 925]  =  8364
Sum of [36, 258, 305, 344, 444, 472, 494, 603, 664, 675, 733, 787, 839, 841, 869]  =  8364
Sum of [14, 78, 89, 162, 265, 311, 366, 367, 429, 444, 525, 603, 669, 675, 719, 787, 925, 936]  =  8364
Sum of [205, 278, 296, 311, 314, 389, 415, 429, 603, 716, 787, 816, 876, 945, 984]  =  8364
Sum of [65, 78, 351, 362, 389, 411, 437, 570, 636, 716, 787, 869, 876, 892, 925]  =  8364
Sum of [25, 272, 344, 362, 367, 415, 444, 525, 570, 573, 636, 641, 675, 732, 816, 967]  =  8364
Sum of [158, 163, 272, 305, 404, 415, 429, 525, 636, 766, 780, 787, 839, 918, 967]  =  8364
Sum of [178, 205, 243, 305, 367, 603, 638, 732, 780, 791, 839, 840, 876, 967]  =  8364
Sum of [176, 192, 332, 415, 520, 664, 669, 680, 732, 757, 766, 787, 805, 869]  =  8364
Sum of [163, 311, 344, 344, 408, 415, 570, 716, 766, 766, 791, 918, 925, 927]  =  8364
Sum of [45, 158, 200, 317, 362, 411, 429, 429, 472, 641, 664, 675, 791, 876, 927, 967]  =  8364
Sum of [14, 272, 320, 389, 404, 408, 409, 438, 573, 719, 816, 839, 869, 927, 967]  =  8364
Sum of [178, 258, 332, 344, 389, 429, 438, 472, 494, 520, 603, 680, 687, 733, 840, 967]  =  8364
Sum of [14, 68, 78, 148, 344, 404, 409, 438, 573, 675, 757, 776, 892, 925, 927, 936]  =  8364
Sum of [265, 411, 429, 429, 453, 664, 680, 757, 776, 816, 841, 918, 925]  =  8364
Sum of [25, 148, 279, 305, 332, 344, 411, 442, 494, 570, 732, 766, 841, 869, 888, 918]  =  8364
"""
